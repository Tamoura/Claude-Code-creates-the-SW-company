{
  "agent": "qa-engineer",
  "version": "1.1.0",
  "updated_at": "2026-01-26T12:00:00Z",
  "learned_patterns": [
    {
      "pattern_id": "PATTERN-003",
      "description": "Vitest Configuration for React",
      "first_applied": "2026-01-25",
      "products_applied": ["gpu-calculator"],
      "notes": "Exclude e2e/ directory to avoid running Playwright tests with Vitest"
    },
    {
      "pattern_id": "PATTERN-004",
      "description": "Playwright E2E Configuration",
      "first_applied": "2026-01-25",
      "products_applied": ["gpu-calculator"],
      "notes": "webServer config auto-starts dev server, use 120s timeout"
    }
  ],
  "task_history": [
    {
      "task_id": "QA-01",
      "product": "gpu-calculator",
      "task_type": "testing-setup",
      "started_at": "2026-01-25T14:00:00Z",
      "completed_at": "2026-01-25T15:00:00Z",
      "estimated_minutes": 60,
      "actual_minutes": 60,
      "status": "success",
      "challenges": [
        "Vitest was running E2E tests by mistake",
        "E2E tests timing out waiting for dev server"
      ],
      "solutions": [
        "Added e2e/ to exclude array in vitest.config.ts",
        "Configured webServer in playwright.config.ts with 120s timeout"
      ],
      "artifacts": [
        "products/gpu-calculator/apps/web/vitest.config.ts",
        "products/gpu-calculator/apps/web/playwright.config.ts",
        "products/gpu-calculator/apps/web/e2e/calculator.spec.ts"
      ],
      "tests_added": 8,
      "coverage_percent": 85
    },
    {
      "task_id": "QA-02",
      "product": "gpu-calculator",
      "task_type": "testing-gate",
      "started_at": "2026-01-25T17:00:00Z",
      "completed_at": "2026-01-25T17:30:00Z",
      "estimated_minutes": 30,
      "actual_minutes": 30,
      "status": "success",
      "challenges": [],
      "solutions": [],
      "artifacts": [
        "products/gpu-calculator/docs/test-reports/foundation.md"
      ],
      "tests_added": 0,
      "coverage_percent": 90
    }
  ],
  "common_mistakes": [
    {
      "mistake": "Forgot to exclude e2e directory in Vitest config",
      "occurred": 1,
      "last_occurrence": "2026-01-25",
      "impact": "Vitest tried to run Playwright tests and failed",
      "prevention": "Always add '**/e2e/**' and '**/*.spec.ts' to Vitest exclude array",
      "checklist_item": "Verify Vitest excludes e2e tests"
    },
    {
      "mistake": "E2E tests assumed dev server was running",
      "occurred": 1,
      "last_occurrence": "2026-01-25",
      "impact": "Tests failed in CI with connection refused",
      "prevention": "Always configure webServer in playwright.config.ts",
      "checklist_item": "Verify Playwright webServer config auto-starts app"
    }
  ],
  "preferred_approaches": [
    {
      "scenario": "Unit test setup",
      "approach": "Vitest with jsdom environment and React plugin",
      "reason": "Fast, Vite-compatible, familiar Jest-like API",
      "example": "vitest.config.ts in gpu-calculator"
    },
    {
      "scenario": "E2E test setup",
      "approach": "Playwright with webServer auto-start",
      "reason": "Reliable, cross-browser, auto-waits",
      "example": "playwright.config.ts in gpu-calculator"
    },
    {
      "scenario": "Testing Gate execution",
      "approach": "Run unit tests first, then E2E, then visual verification",
      "reason": "Unit tests are fast and catch most issues; E2E catches integration issues",
      "example": "QA-02 task in gpu-calculator"
    },
    {
      "scenario": "Test organization",
      "approach": "Unit tests in src/ next to components, E2E tests in e2e/",
      "reason": "Unit tests close to code, E2E tests separate for clarity",
      "example": "gpu-calculator structure"
    }
  ],
  "testing_gate_checklist": [
    "Run unit tests: npm run test:run",
    "Check coverage >= 80%",
    "Run E2E tests: npm run test:e2e",
    "Start dev server and verify app loads",
    "Check for console errors in browser",
    "Visual verification: buttons visible, forms functional, layout correct",
    "Test on mobile viewport size"
  ],
  "efficiency_improvements": [
    {
      "area": "Test execution",
      "old_approach": "Manually start dev server before running E2E tests",
      "new_approach": "Playwright webServer config auto-starts and waits for server",
      "time_saved_minutes": 5,
      "first_used": "2026-01-25"
    }
  ],
  "performance_metrics": {
    "tasks_completed": 2,
    "success_rate": 1.0,
    "average_time_minutes": 45,
    "median_time_minutes": 45,
    "testing_gates_run": 1,
    "testing_gates_passed_first_try": 1,
    "bugs_found": 2,
    "false_positives": 0
  }
}
