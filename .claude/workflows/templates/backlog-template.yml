# Backlog Template — Agile Documentation System
# Generated by instantiate-task-graph.sh for new products
# Location: products/{PRODUCT}/docs/backlog.yml
#
# Hierarchy: Epic → Feature → Story → Task/Test
# Plus: Bugs (linked to stories) and Sprints (grouping stories)
#
# Status values: draft | ready | in_progress | done
# Severity values: critical | high | medium | low
# Test types: unit | integration | e2e
# Assignee values: backend-engineer | frontend-engineer | qa-engineer |
#   architect | devops-engineer | product-manager | security-engineer |
#   ui-ux-designer | technical-writer | mobile-developer

# ─────────────────────────────────────────────────────────────────
# PROTOCOL ENFORCEMENT (ConnectSW Constitution Articles XI & XII)
# ─────────────────────────────────────────────────────────────────
# ALL AGENTS must follow BEFORE starting any task:
#   - Read .claude/protocols/anti-rationalization.md (Article XI)
#   - Apply the 1% Rule: if a quality step might apply, invoke it
#
# ALL AGENTS must follow BEFORE marking any task done:
#   - Verification-Before-Completion 5-Step Gate (Article XI):
#     1. Identify what "done" looks like (specific, testable)
#     2. Execute the actual verification command
#     3. Read the actual output (do NOT assume success)
#     4. Compare output to acceptance criteria literally
#     5. Claim done only when evidence matches
#
# FOR DELIVERABLES (Article XII):
#   - Write all outputs to files (direct-delivery.md)
#   - Compress context if >60% full (context-compression.md)
# ─────────────────────────────────────────────────────────────────

product: "{PRODUCT}"
updated_at: "{TIMESTAMP}"

epics:
  - id: EPIC-001
    title: "{PRODUCT} Core MVP"
    status: draft
    description: "Core functionality for {PRODUCT} minimum viable product"
    acceptance_criteria:
      - "All MVP features implemented and tested"
      - "Browser smoke test passes"
      - "E2E tests cover critical paths"
      - "Production build succeeds"
    features:
      - id: FEAT-001
        title: "Foundation & Infrastructure"
        status: draft
        stories:
          - id: STORY-001
            title: "As a developer, I can set up the project with standard tech stack"
            status: draft
            points: 3
            sprint: 1
            tasks:
              - id: TASK-001
                title: "Initialize monorepo structure"
                assignee: devops-engineer
                status: draft
              - id: TASK-002
                title: "Set up backend (Fastify + Prisma)"
                assignee: backend-engineer
                status: draft
              - id: TASK-003
                title: "Set up frontend (Next.js + Tailwind)"
                assignee: frontend-engineer
                status: draft
            tests:
              - id: TEST-001
                title: "API health endpoint returns 200"
                type: integration
                status: draft
              - id: TEST-002
                title: "Frontend renders without errors"
                type: e2e
                status: draft

      - id: FEAT-002
        title: "Core Feature Set"
        status: draft
        stories: []

      - id: FEAT-003
        title: "Quality & Testing"
        status: draft
        stories:
          - id: STORY-010
            title: "As QA, I verify the product works end-to-end in the browser"
            status: draft
            points: 5
            sprint: 1
            tasks:
              - id: TASK-010
                title: "Write minimum 3 Playwright E2E test files"
                assignee: qa-engineer
                status: draft
              - id: TASK-011
                title: "Browser smoke test passes"
                assignee: qa-engineer
                status: draft
            tests:
              - id: TEST-010
                title: "Smoke test gate passes"
                type: e2e
                status: draft
              - id: TEST-011
                title: "All E2E tests pass in CI"
                type: e2e
                status: draft

bugs: []

sprints:
  - id: 1
    name: "Sprint 1: Foundation"
    status: active
    start_date: "{SPRINT_START}"
    end_date: "{SPRINT_END}"
    stories: [STORY-001, STORY-010]
    velocity: 0
