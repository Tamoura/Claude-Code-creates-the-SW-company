# Task List: ArchForge — Core Features

**Product**: archforge
**Plan**: docs/plan.md
**Created**: 2026-02-21
**Updated**: 2026-02-21
**Status**: In Progress (Phase 1 Foundation)
**Generated by**: Orchestrator

## Overall Progress

| Phase | Tasks | Progress | Status |
|-------|-------|----------|--------|
| Phase 1: Foundation | 8 | 100% | Complete |
| Phase 2: Auth & Projects | 8 | 0% | Planned |
| Phase 3: AI Generation | 8 | 0% | Planned |
| Phase 4: Canvas & Export | 8 | 0% | Planned |
| Phase 5: Collaboration & Templates | 6 | 0% | Planned |
| **Total** | **38** | **21%** | **In Progress** |

## Phase 1: Foundation (Complete)

- [x] **T001** `feat` Fastify API scaffold (port 5012, TypeScript strict, plugins) — Foundation
- [x] **T002** `feat` Prisma schema: 18 tables (Users, Projects, Artifacts, Versions, Templates, etc.) — FR-001
- [x] **T003** `feat` Security headers: Helmet, CORS, CSP, HSTS — FR-010
- [x] **T004** `feat` Redis plugin for caching and pub/sub — Foundation
- [x] **T005** `feat` Rate limiting plugin (Redis-backed, user/API-key aware) — FR-010
- [x] **T006** `feat` Observability: Pino logging with request correlation — Foundation
- [x] **T007** `feat` Next.js web scaffold with landing page (port 3116) — Foundation
- [x] **T008** `test` Health check integration test — Foundation

## Phase 2: Auth & Project Management (Planned)

- [ ] **T010** `test` Write auth + project management tests — FR-001, FR-002
- [ ] **T011** `feat` User registration (email + password, OAuth) — FR-001
- [ ] **T012** `feat` Login + JWT auth middleware — FR-001
- [ ] **T013** `feat` Project CRUD (create, read, update, archive, delete) — FR-002
- [ ] **T014** `feat` Project members and RBAC (owner, admin, editor, viewer) — FR-002
- [ ] **T015** `feat` Auth UI: login, register, password reset pages — FR-001
- [ ] **T016** `feat` Dashboard UI: project list, recent artifacts — FR-002
- [ ] **T017** `test` Verify auth + project tests pass — FR-001, FR-002

## Phase 3: AI Generation Pipeline (Planned)

- [ ] **T020** `test` Write AI generation + artifact tests — FR-003, FR-004
- [ ] **T021** `feat` Claude API integration for NL-to-architecture generation — FR-003
- [ ] **T022** `feat` Prompt engineering: ArchiMate, C4, TOGAF templates — FR-003
- [ ] **T023** `feat` Artifact CRUD (create from generation, read, update, delete) — FR-004
- [ ] **T024** `feat` Document ingestion: PDF/DOCX upload + text extraction — FR-005
- [ ] **T025** `feat` Version history: create, diff, restore — FR-006
- [ ] **T026** `feat` Generation UI: NL input panel, artifact preview — FR-003
- [ ] **T027** `test` Verify generation + artifact tests pass — FR-003, FR-004

## Phase 4: Canvas & Export (Planned)

- [ ] **T030** `test` Write canvas + export tests — FR-007, FR-008
- [ ] **T031** `feat` React Flow canvas integration (interactive diagram editing) — FR-007
- [ ] **T032** `feat` Canvas element/relationship CRUD with auto-layout — FR-007
- [ ] **T033** `feat` Framework validation engine (ArchiMate 3.2, C4, TOGAF rules) — FR-009
- [ ] **T034** `feat` Export pipeline: PNG, SVG, PDF rendering — FR-008
- [ ] **T035** `feat` Export pipeline: PlantUML, ArchiMate XML, Mermaid, Draw.io — FR-008
- [ ] **T036** `feat` Canvas editor UI with toolbar and properties panel — FR-007
- [ ] **T037** `test` Verify canvas + export tests pass — FR-007, FR-008

## Phase 5: Collaboration & Templates (Planned)

- [ ] **T040** `test` Write collaboration + template tests — FR-010, FR-011
- [ ] **T041** `feat` Template library (TOGAF, C4, ArchiMate, AWS/Azure pre-built) — FR-011
- [ ] **T042** `feat` Sharing + permissions (link sharing, role-based access) — FR-010
- [ ] **T043** `feat` Comments and annotations on artifacts — FR-010
- [ ] **T044** `feat` WebSocket rooms for real-time collaboration — FR-010
- [ ] **T045** `test` Verify collaboration + template tests pass — FR-010, FR-011

## Traceability Matrix

| FR | Requirement | Phase | Task(s) | Status |
|----|-------------|-------|---------|--------|
| FR-001 | User auth (register, login, OAuth) | 2 | T011-T012, T015 | Planned |
| FR-002 | Project management + RBAC | 2 | T013-T014, T016 | Planned |
| FR-003 | NL-to-architecture AI generation | 3 | T021-T022, T026 | Planned |
| FR-004 | Artifact CRUD + management | 3 | T023 | Planned |
| FR-005 | Document ingestion + extraction | 3 | T024 | Planned |
| FR-006 | Version history + diff | 3 | T025 | Planned |
| FR-007 | Interactive canvas editing | 4 | T031-T032, T036 | Planned |
| FR-008 | Multi-format export | 4 | T034-T035 | Planned |
| FR-009 | Framework validation | 4 | T033 | Planned |
| FR-010 | Collaboration + sharing | 5 | T042-T044 | Planned |
| FR-011 | Template library | 5 | T041 | Planned |
