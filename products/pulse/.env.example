# Pulse - Environment Variables Template
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Generate secure values for all REQUIRED secrets (marked with [REQUIRED])
# 3. Never commit .env to version control (it's in .gitignore)
#
# For Docker Compose usage:
#   docker-compose up -d
#
# For local development:
#   npm run dev

# ===================================
# API Configuration
# ===================================
PORT=5003
NODE_ENV=development

# ===================================
# Database (PostgreSQL) [REQUIRED]
# ===================================
# For Docker Compose - set these variables:
POSTGRES_USER=postgres
# [REQUIRED] Generate with: openssl rand -base64 24
POSTGRES_PASSWORD=CHANGE_ME_generate_secure_password
POSTGRES_DB=pulse_dev

# For local development - full connection string:
DATABASE_URL="postgresql://postgres:CHANGE_ME@localhost:5432/pulse_dev"

# ===================================
# Redis (Cache, Pub/Sub, Rate Limiting) [REQUIRED]
# ===================================
REDIS_URL="redis://localhost:6379"
# Password for Docker Compose Redis
REDIS_PASSWORD=devpassword

# TLS/SSL Configuration (for cloud Redis)
REDIS_TLS="false"
REDIS_TLS_REJECT_UNAUTHORIZED="true"

# ===================================
# Authentication [REQUIRED]
# ===================================
# [REQUIRED] Generate with: openssl rand -hex 32
# Minimum 64 characters for production security
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32
JWT_EXPIRES_IN="1h"
REFRESH_TOKEN_EXPIRES_IN="7d"

# ===================================
# GitHub OAuth [REQUIRED]
# ===================================
# Create a GitHub OAuth App: https://github.com/settings/developers
# Authorization callback URL: http://localhost:5003/api/v1/auth/github/callback
GITHUB_CLIENT_ID=CHANGE_ME_github_oauth_client_id
GITHUB_CLIENT_SECRET=CHANGE_ME_github_oauth_client_secret

# ===================================
# GitHub Webhooks [REQUIRED]
# ===================================
# [REQUIRED] Secret for verifying GitHub webhook HMAC signatures
# Generate with: openssl rand -hex 32
GITHUB_WEBHOOK_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32

# ===================================
# Encryption [REQUIRED in production]
# ===================================
# AES-256-GCM key for encrypting GitHub OAuth tokens at rest
# Must be exactly 64 hex characters (32 bytes)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32

# ===================================
# Frontend Configuration
# ===================================
FRONTEND_URL="http://localhost:3106"
NEXT_PUBLIC_API_URL="http://localhost:5003"

# ===================================
# CORS Configuration
# ===================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS="http://localhost:3106"

# ===================================
# Logging
# ===================================
LOG_LEVEL="info"

# ===================================
# Push Notifications (Production Only)
# ===================================
# Expo push notification access token
# Get from: https://expo.dev/accounts/[account]/settings/access-tokens
EXPO_ACCESS_TOKEN=""

# ===================================
# Internal API Key (Optional)
# ===================================
# Used to secure the /internal/metrics endpoint
# Generate with: openssl rand -hex 32
INTERNAL_API_KEY=""
